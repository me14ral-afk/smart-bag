<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù‚ÙŠØ¨Ø© Ø§Ù„Ø°ÙƒÙŠØ© Ultimate Pro</title>
    <style>
        :root {
            --bg: #0f172a;
            --accent: #38bdf8;
            --glass: rgba(255, 255, 255, 0.1);
            --card-bg: rgba(30, 41, 59, 0.95);
            --danger: #ef4444;
            --warning: #f59e0b;
            --success: #22c55e;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, sans-serif;
            background: var(--bg);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            overflow: hidden;
        }

        .app-container {
            width: 360px;
            height: 720px;
            background: var(--card-bg);
            border-radius: 45px;
            border: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(25px);
            box-shadow: 0 30px 60px rgba(0,0,0,0.6);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .screen {
            display: none;
            flex-direction: column;
            padding: 25px;
            height: 100%;
            animation: fadeIn 0.4s ease-in-out;
        }

        .screen.active { display: flex; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø§Ù‡ØªØ²Ø§Ø² Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            50% { transform: translateX(8px); }
            75% { transform: translateX(-8px); }
            100% { transform: translateX(0); }
        }

        .shake-trigger {
            animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both;
        }

        .btn {
            background: var(--accent);
            color: #0f172a;
            border: none;
            padding: 16px;
            border-radius: 20px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 15px;
        }

        .btn:active {
            transform: scale(0.97);
            background: #7dd3fc;
            box-shadow: 0 0 25px var(--accent);
        }

        .input-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-size: 14px; opacity: 0.9; }
        input {
            width: 100%;
            padding: 14px;
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(0,0,0,0.3);
            color: white;
            box-sizing: border-box;
            font-size: 16px;
        }

        .map-box {
            height: 160px;
            background: linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.2)), url('https://api.placeholder.com/400/200') center/cover;
            border-radius: 25px;
            margin: 15px 0;
            position: relative;
            border: 1px solid var(--accent);
        }

        .dashboard-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .card { background: var(--glass); padding: 15px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.05); }

        .status-highlight {
            margin-top: 12px;
            padding: 20px;
            border-radius: 25px;
            text-align: center;
            font-weight: bold;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            transition: all 0.5s ease;
        }

        #alarmModal {
            display: none;
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 100;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .modal-content { background: #1e293b; padding: 25px; border-radius: 30px; text-align: center; width: 100%; border: 1px solid var(--danger); }
    </style>
</head>
<body>

<div class="app-container">
    <div id="alarmModal">
        <div class="modal-content">
            <h3 style="color:var(--danger); margin-bottom:20px;">ğŸš¨ Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø¥Ù†Ø°Ø§Ø±</h3>
            <button class="btn" style="width:100%;" onclick="activateAlarm('Ø§Ù„Ø³Ø±Ù‚Ø© ÙˆØ§Ù„Ø¨Ø¹Ø¯')">ğŸ“ Ø¥Ù†Ø°Ø§Ø± Ø§Ù„Ø¨Ø¹Ø¯ (Ø³Ø±Ù‚Ø©)</button>
            <button class="btn" style="width:100%; background:#f59e0b;" onclick="activateAlarm('Ø§Ù†Ø®ÙØ§Ø¶ Ø§Ù„Ø´Ø­Ù†')">ğŸª« Ø¥Ù†Ø°Ø§Ø± Ø´Ø­Ù† Ù…Ù†Ø®ÙØ¶</button>
            <button class="btn" style="width:100%; background:none; color:white; border:1px solid white;" onclick="closeAlarm()">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>

    <div class="screen active" id="sc1">
        <div style="font-size:70px; text-align:center; margin-top:60px;">ğŸ’</div>
        <h1 style="text-align:center; font-size: 26px;">Ù…Ø±Ø­Ø¨Ø§Ù‹ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù‚ÙŠØ¨Ø© Ø§Ù„Ø°ÙƒÙŠØ©</h1>
        <p style="text-align:center; opacity:0.8; line-height:1.6;">Ø§Ù„Ø¬ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¯Ù… Ù…Ù† Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ø´Ø®ØµÙŠØ© Ù„Ø±Ø§Ø­ØªÙƒ ÙˆØ£Ù…Ø§Ù†Ùƒ Ø§Ù„Ø¯Ø§Ø¦Ù….</p>
        <button class="btn" onclick="showScreen('sc2')">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</button>
    </div>

    <div class="screen" id="sc2">
        <h2 style="text-align:center;">Ù…Ù„Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ğŸ‘¤</h2>
        <div class="input-group">
            <label>ÙˆØ²Ù† Ø¬Ø³Ù…Ùƒ (ÙƒØ¬Ù…)</label>
            <input type="number" id="uWeight" placeholder="Ø£Ø¯Ø®Ù„ ÙˆØ²Ù†Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ..">
        </div>
        <div class="input-group">
            <label>Ø§Ù„Ø¹Ù…Ø±</label>
            <input type="number" id="uAge" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù…Ø±Ùƒ..">
        </div>
        <div class="input-group">
            <label>ÙˆØ²Ù† Ø§Ù„Ø­Ù‚ÙŠØ¨Ø© Ø§Ù„Ø­Ø§Ù„ÙŠ (ÙƒØ¬Ù…)</label>
            <input type="number" id="bWeight" placeholder="Ø£Ø¯Ø®Ù„ ÙˆØ²Ù† Ø§Ù„Ø­Ù‚ÙŠØ¨Ø© Ø§Ù„Ø¢Ù†..">
        </div>
        <button class="btn" onclick="finishSetup()">Ø¯Ø®ÙˆÙ„ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</button>
    </div>

    <div class="screen" id="sc3" style="overflow-y: auto;">
        <div style="display:flex; justify-content: space-between; align-items:center;">
            <h3 style="margin:0;">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h3>
            <div style="color:var(--accent); font-size:12px; font-weight:bold;">â— Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†</div>
        </div>

        <div class="map-box">
            <div style="position:absolute; top:40%; left:50%; transform:translate(-50%,-50%); font-size:35px; filter: drop-shadow(0 0 10px var(--accent));">ğŸ“</div>
            <div style="position:absolute; bottom:0; width:100%; text-align:center; padding:8px 0; font-size:13px; background:rgba(15, 23, 42, 0.8); border-bottom-left-radius: 24px; border-bottom-right-radius: 24px;">
                Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ: <strong>Ø­ÙŠ Ø§Ù„ØµÙ‡Ø§Ø±ÙŠØ¬</strong>
            </div>
        </div>

        <div class="dashboard-grid">
            <div class="card"><small>ğŸ”‹ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©</small><div style="font-size:20px; color:#22c55e; font-weight:bold;">96%</div></div>
            <div class="card"><small>âš–ï¸ ÙˆØ²Ù† Ø§Ù„Ø­Ù‚ÙŠØ¨Ø©</small><div id="displayBagWeight" style="font-size:20px; font-weight:bold;">0 ÙƒØ¬Ù…</div></div>
        </div>

        <div id="statusCard" class="status-highlight">
            <div style="font-size: 18px;">Ø§Ù„Ø­Ø§Ù„Ø©: <span id="weightStatus">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨..</span></div>
            <div id="weightDetailText" style="opacity:0.9; font-size: 12px; margin-top: 5px; font-weight: normal;">Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ÙˆØ²Ù†Ùƒ ÙˆØ¹Ù…Ø±Ùƒ Ù„Ø­Ù…Ø§ÙŠØ© Ø¹Ù…ÙˆØ¯Ùƒ Ø§Ù„ÙÙ‚Ø±ÙŠ</div>
        </div>

        <div class="dashboard-grid" style="margin-top:12px;">
            <div class="card"><small>ğŸ‘£ Ø§Ù„Ø®Ø·ÙˆØ§Øª</small><div style="font-size:18px;">3,420</div></div>
            <div class="card"><small>ğŸ”¥ Ø³Ø¹Ø±Ø§Øª</small><div id="calVal" style="font-size:18px; color:#fbbf24;">0</div></div>
        </div>

        <h4 style="margin: 20px 0 10px 0; font-size:16px; text-align: center;">Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ù†Ø¸Ø§Ù…</h4>
        <button class="btn" style="width:100%; background:transparent; border:2px solid var(--danger); color:var(--danger); margin:0;" onclick="openAlarm()">ğŸš¨ ØªÙØ¹ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ù†Ø°Ø§Ø±</button>
        
        <button class="btn" onclick="location.reload()" style="background:none; border:none; color:white; opacity:0.4; font-size:11px; width:100%; margin-top:15px;">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</button>
    </div>
</div>

<script>
    function showScreen(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    function finishSetup() {
        const uWeight = parseFloat(document.getElementById('uWeight').value);
        const uAge = document.getElementById('uAge').value;
        const bWeight = parseFloat(document.getElementById('bWeight').value);
        
        if(!uWeight || !uAge || !bWeight) return alert("ÙØ¶Ù„Ø§Ù‹ Ø¹Ø¨Ø¦ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");

        document.getElementById('displayBagWeight').innerText = bWeight + " ÙƒØ¬Ù…";

        const ratio = (bWeight / uWeight) * 100;
        const statusSpan = document.getElementById('weightStatus');
        const statusCard = document.getElementById('statusCard');

        // Ø¥Ø¶Ø§ÙØ© ÙƒÙ„Ø§Ø³ Ø§Ù„Ø§Ù‡ØªØ²Ø§Ø² Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„Ù‡ ÙÙŠ ÙƒÙ„ Ù…Ø±Ø©
        statusCard.classList.remove('shake-trigger');
        void statusCard.offsetWidth; // Ø³Ø·Ø± Ø³Ø­Ø±ÙŠ Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù€ Animation
        statusCard.classList.add('shake-trigger');

        if(ratio <= 10) {
            statusSpan.innerText = "ÙˆØ²Ù† Ù…Ù…ØªØ§Ø² âœ…";
            statusCard.style.backgroundColor = "var(--success)";
            statusCard.style.boxShadow = "0 0 25px rgba(34, 197, 94, 0.5)";
        } else if (ratio <= 15) {
            statusSpan.innerText = "Ø¬ÙŠØ¯ Ù†ÙˆØ¹Ø§Ù‹ Ù…Ø§ âš ï¸";
            statusCard.style.backgroundColor = "var(--warning)";
            statusCard.style.boxShadow = "0 0 25px rgba(245, 158, 11, 0.5)";
        } else {
            statusSpan.innerText = "Ø®Ø·Ø± (Ø«Ù‚ÙŠÙ„Ø© Ø¬Ø¯Ø§Ù‹) ğŸš¨";
            statusCard.style.backgroundColor = "var(--danger)";
            statusCard.style.boxShadow = "0 0 25px rgba(239, 68, 68, 0.5)";
        }

        document.getElementById('calVal').innerText = Math.round(uWeight * 0.8) + " Ø³Ø¹Ø±Ø©";

        showScreen('sc3');
    }

    function openAlarm() { document.getElementById('alarmModal').style.display = 'flex'; }
    function closeAlarm() { document.getElementById('alarmModal').style.display = 'none'; }
    function activateAlarm(type) {
        alert("ğŸš¨ ØªÙ… ØªÙØ¹ÙŠÙ„ Ø¥Ù†Ø°Ø§Ø± " + type + " Ø¨Ù†Ø¬Ø§Ø­!");
        closeAlarm();
    }
</script>

</body>
</html>
